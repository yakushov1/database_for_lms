# DDL-–∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Ä–æ–∫–∞—Ö, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è—Ö –≤ –æ–Ω–ª–∞–π–Ω-LMS (Learning Management System). –ë–∞–∑–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –°–£–ë–î MySQL.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö](#–æ–ø–∏—Å–∞–Ω–∏–µ-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–¥–∞–Ω–Ω—ã—Ö)
- [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (users)](#–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏-users)
- [–†–∞–∑–¥–µ–ª—ã –∫—É—Ä—Å–∞ (sections)](#—Ä–∞–∑–¥–µ–ª—ã-–∫—É—Ä—Å–∞-sections)
- [–£—Ä–æ–∫–∏ (lessons)](#—É—Ä–æ–∫–∏-lessons)
- [–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å—Ç–µ–ø–æ–≤ (steps_category)](#–∫–∞—Ç–µ–≥–æ—Ä–∏–∏-—Å—Ç–µ–ø–æ–≤-steps_category)
- [–°—Ç–µ–ø—ã (steps)](#—Å—Ç–µ–ø—ã-steps)
- [–†–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (solutions)](#—Ä–µ—à–µ–Ω–∏—è-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π-solutions)
- [–ü—Ä–æ—Å–º–æ—Ç—Ä—ã —Å—Ç–µ–ø–æ–≤ (step_views)](#–ø—Ä–æ—Å–º–æ—Ç—Ä—ã-—Å—Ç–µ–ø–æ–≤-step_views)
- [–¢—Ä–∏–≥–≥–µ—Ä—ã](#—Ç—Ä–∏–≥–≥–µ—Ä—ã)
- [ER-–î–∏–∞–≥—Ä–∞–º–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#er-–¥–∏–∞–≥—Ä–∞–º–º–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)

## –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –ë–î:

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (users)

–£—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–∏—Å—Ç–µ–º—ã.

**–ê—Ç—Ä–∏–±—É—Ç—ã:**
- `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `login` - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º)
- `password_hash` - —Ö—ç—à –ø–∞—Ä–æ–ª—è
- `salt` - —Å–æ–ª—å –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ —Ö—ç—à–∞
- `is_active` - –ø–æ–º–µ—Ç–∫–∞, –∞–∫—Ç–∏–≤–Ω—ã–π –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `created_at` - –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `last_visited_step_id` - id –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ—Å–µ—â–µ–Ω–Ω–æ–≥–æ —Å—Ç–µ–ø–∞. –ü–æ–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤–∏–∑–∏—Ç–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–æ—Ç —Å—Ç–µ–ø, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –≤ –ø—Ä–æ—à–ª—ã–π —Ä–∞–∑

### –†–∞–∑–¥–µ–ª—ã –∫—É—Ä—Å–∞ (sections)

–í—Å–µ —É—Ä–æ–∫–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª—ã.

**–ê—Ç—Ä–∏–±—É—Ç—ã:**
- `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞
- `order_index` - –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –≤ –º–µ–Ω—é LMS
- `is_available` - –ø–æ–º–µ—Ç–∫–∞, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ —Ä–∞–∑–¥–µ–ª –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (1) –∏–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞ (0)

### –£—Ä–æ–∫–∏ (lessons)

**–ê—Ç—Ä–∏–±—É—Ç—ã:**
- `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `section_id` - –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á - id —Ä–∞–∑–¥–µ–ª–∞, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —É—Ä–æ–∫
- `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞
- `order_index` - –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –≤ –º–µ–Ω—é LMS

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å—Ç–µ–ø–æ–≤ (steps_category)

–ö–∞–∂–¥—ã–π —É—Ä–æ–∫ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –∫–æ—Ä–æ—Ç–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã - —à–∞–≥–∏, –∏–ª–∏ —Å—Ç–µ–ø—ã. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏, —à–∞–≥–∏ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π csv –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞ –∏ —Ç.–¥.) –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Ñ–æ—Ä–º–∞ –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ —É—á–µ–Ω–∏–∫–æ–≤.

**–ê—Ç—Ä–∏–±—É—Ç—ã:**
- `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### –°—Ç–µ–ø—ã (steps)

**–ê—Ç—Ä–∏–±—É—Ç—ã:**
- `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `category_id` - –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á (–∫–∞—Ç–µ–≥–æ—Ä–∏—è —Å—Ç–µ–ø–∞)
- `lesson_id` - –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á (–∫ –∫–∞–∫–æ–º—É —É—Ä–æ–∫—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Å—Ç–µ–ø)
- `order_index` - –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä (–¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤–Ω—É—Ç—Ä–∏ —É—Ä–æ–∫–∞)
- `html` - –∏—Å—Ö–æ–¥–Ω—ã–π html-–∫–æ–¥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- `correct_answer` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ —Å—Ç–µ–ø (–∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è, –µ—Å–ª–∏ —Å—Ç–µ–ø –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç)
- `is_available` - –µ—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (0), –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—É–¥–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞

### –†–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (solutions)

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—á–µ—Ç–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-—Å—Ç–µ–ø –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å. –ï—Å–ª–∏ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—Ç–∏–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å—Ç–µ–ø, —Ç–æ —Ä–µ—à–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è.

**–ê—Ç—Ä–∏–±—É—Ç—ã:**
- `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `user_id` - –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `step_id` - –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, –∫ –∫–∞–∫–æ–º—É —Å—Ç–µ–ø—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Ä–µ—à–µ–Ω–∏–µ
- `last_attempt_time` - –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–ø—ã—Ç–∫–∏ —Ä–µ—à–µ–Ω–∏—è
- `attempts_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
- `last_answer` - –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ò—Å—Ç–æ—Ä–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏
- `is_correct` - –ø–æ–º–µ—Ç–∫–∞, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ –æ—Ç–≤–µ—Ç

### –ü—Ä–æ—Å–º–æ—Ç—Ä—ã —Å—Ç–µ–ø–æ–≤ (step_views)

–û—Ç–º–µ—Ç–∫–∞ –æ —Ç–æ–º, —á—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –ø–æ—Å–º–æ—Ç—Ä–µ–ª —ç—Ç–æ—Ç —Å—Ç–µ–ø (–¥–ª—è –ø–æ–º–µ—Ç–∫–∏ —Å—Ç–µ–ø–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ). –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—á–µ—Ç–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-—Å—Ç–µ–ø –≤–æ–∑–º–æ–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∑–∞–ø–∏—Å—å.

**–ê—Ç—Ä–∏–±—É—Ç—ã:**
- `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `step_id` - –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ —Ç–∞–±–ª–∏—Ü—É steps
- `user_id` - –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ —Ç–∞–±–ª–∏—Ü—É users
- `viewed_at` - –æ—Ç–º–µ—Ç–∫–∞ –æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

### –¢—Ä–∏–≥–≥–µ—Ä—ã

–°–æ–∑–¥–∞–Ω—ã —Ç—Ä–∏–≥–≥–µ—Ä—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ solutions.

–ï—Å–ª–∏ step –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ 1 (step_category = 1), —Ç–æ –µ—Å—Ç—å —ç—Ç–æ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π —à–∞–≥, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ is_correct –≤ FALSE, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—ã—Ç–∞–ª–∏—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å. –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–∏—Ö –±–∞–ª–ª–æ–≤ –∑–∞ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ, –∑–∞ –∫–æ—Ç–æ—Ä–æ–µ –±–∞–ª–ª—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å—Å—è.

## üìä ER-–î–∏–∞–≥—Ä–∞–º–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```mermaid
%%{init: {"er": {"diagramPadding": 5, "layout": "dagre"}} }%%
erDiagram
    users {
        INT id PK
        VARCHAR(20) login UK
        VARCHAR(255) password_hash
        VARCHAR(100) salt
        BOOLEAN is_active
        TIMESTAMP created_at
        INT last_visited_step_id FK
    }

    sections {
        INT id PK
        VARCHAR(100) title
        INT order_index
        INT is_available
    }

    lessons {
        INT id PK
        INT section_id FK
        VARCHAR(100) title
        INT order_index
    }

    steps_category {
        INT id PK
        VARCHAR(30) title
    }

    steps {
        INT id PK
        INT category_id FK
        INT lesson_id FK
        INT order_index
        TEXT html
        TEXT correct_answer
        BOOLEAN is_available
    }

    solutions {
        INT id PK
        INT user_id FK
        INT step_id FK
        TIMESTAMP last_attempt_time
        INT attempts_count
        TEXT last_answer
        BOOLEAN is_correct
    }

    step_views {
        INT id PK
        INT step_id FK
        INT user_id FK
        TIMESTAMP viewed_at
    }

    sections ||--o{ lessons : "—Å–æ–¥–µ—Ä–∂–∏—Ç"
    lessons ||--o{ steps : "—Å–æ—Å—Ç–æ–∏—Ç –∏–∑"
    steps_category ||--o{ steps : "–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø"
    
    users }o--|| steps : "–ø–æ—Å–ª–µ–¥–Ω–∏–π –ø–æ—Å–µ—â–µ–Ω–Ω—ã–π"
    users ||--o{ solutions : "–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç"
    steps ||--o{ solutions : "–∏–º–µ–µ—Ç —Ä–µ—à–µ–Ω–∏—è –¥–ª—è"
    
    users ||--o{ step_views : "–ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç"
    steps ||--o{ step_views : "–ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω"
```

